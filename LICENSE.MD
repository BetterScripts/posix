<!-- SPDX-License-Identifier: MPL-2.0 -->
<!-- ############################### LICENSE ############################### -->
<!--                                                                         -->
<!-- BetterScripts 'LICENSE.MD': License clarification and FAQs.             -->
<!--                                                                         -->
<!-- Copyright (c) 2022 BetterScripts ( better.scripts@proton.me,            -->
<!--                                    https://github.com/BetterScripts )   -->
<!--                                                                         -->
<!-- This file is part of the BetterScripts POSIX Suite.                     -->
<!--                                                                         -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public     -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this     -->
<!-- file, You can obtain one at https://mozilla.org/MPL/2.0/.               -->
<!--                                                                         -->
<!-- ----------------------------------------------------------------------- -->
<!--                                                                         -->
<!-- ADDENDUM:                                                               -->
<!--                                                                         -->
<!-- In addition to the Mozilla Public License a copy of LICENSE.MD should   -->
<!-- have been be provided alongside this file; LICENSE.MD clarifies how the -->
<!-- Mozilla Public License v2.0 applies to this file and MAY confer         -->
<!-- additional rights.                                                      -->
<!--                                                                         -->
<!-- Should there be any apparent ambiguity (implied or otherwise) the terms -->
<!-- and conditions from the Mozilla Public License v2.0 shall apply.        -->
<!--                                                                         -->
<!-- If a copy of LICENSE.MD was not provided it can be obtained from        -->
<!-- https://github.com/BetterScripts/posix/LICENSE.MD.                      -->
<!--                                                                         -->
<!-- NOTE:                                                                   -->
<!--                                                                         -->
<!-- The Mozilla Public License v2.0 is compatible with the GNU General      -->
<!-- Public License v2.0.                                                    -->
<!--                                                                         -->
<!-- ####################################################################### -->

# LICENSE

> **_DOCUMENT VERSION: 1.0.0_**

----

_The _BetterScripts POSIX Suite_ is distributed under the_
_[**Mozilla Public License v. 2.0**][mpl_v2]_
_(hereinafter "**MPLv2**" or simply "**MPL**")._

_Copyright (c) 2024 BetterScripts (<better.scripts@proton.me>,_
_<https://github.com/BetterScripts>)_

----

EXCEPT and UNLESS _explicitly_ noted the _Mozilla Public License v. 2.0_ AND
above copyright notice apply to the entirety of the _BetterScripts POSIX Suite_,
including, but not limited to, all files distributed as part of the suite and
all files in the official BetterScripts repository.

This document extends, modifies, and clarifies _MPLv2_ in so far as it pertains
to the _BetterScripts POSIX Suite_ and does not replace any part of that
license. Should there be any apparent ambiguity (implied or otherwise) the terms
and conditions from the _MPLv2_ shall apply. This document shall also apply to
any additional licenses as applied to the _BetterScripts POSIX Suite_ EXCEPT
where this would cause ambiguity or conflict with those licenses.

In _ALL_ circumstances, without exception, Section 6 ("Disclaimer of Warranty")
and Section 7 ("Limitation of Liability") of the _MPLv2_ shall apply.

A copy of the _MPLv2_ should have been provided as [LICENSE](./LICENSE), however
it can also be obtained at <https://mozilla.org/MPL/2.0/>.

## DEFINITIONS

In addition to those definitions in the _MPLv2_, the following definitions
apply to this document:

- "_The Suite_": The _BetterScripts POSIX Suite_ (in whole or in part) as
  provided from the official BetterScripts repository.

- "_The License_": The terms and conditions as applied to _the Suite_, including
  those written in this document when applicable.

- "_The Main License_": The terms and conditions as contained in the main
  license applied to _the Suite_ as iterated in the [LICENSE](./LICENSE) file,
  and not including the text in this document.

## USAGE

The software in the _the Suite_ is provided as one or more files where each file
can be _both_ the "Source Code Form" _and_ the "Executable Form" for that file.

For all software in _the Suite_, there is an "Appropriate Command" which is
defined as the command interpretation service or utility, as described in the
["Shell and Utilities"][posix_shell_utils] volume of [_POSIX.1-2008_][posix]
standard, which can interpret _and_ execute the software and with which the
software was intended to be used.

For the purposes of licensing, when any software from _the Suite_ is
interpreted and executed by the "Appropriate Command", the file containing
_the Suite_ software is defined as being in the "Executable Form". The
"Executable Form" definition is retained until the file containing _the Suite_
software is opened, processed, or otherwise interpreted by a command
interpretation service or utility that is not the "Appropriate Command", UNLESS
the command interpretation service or utility is being used for the purposes of
storing or distributing the file containing _the Suite_ software AND makes no
modifications, edits, or changes to the file data.

The "Appropriate Command" may be replaced by any command interpretation service
or utility where the results of interpretation and execution of the software is
indistinguishable from that of the "Appropriate Command". Replacement commands
include, but are not limited to, any command interpretation service or utility
which is compatible with "Appropriate Command", or internal commands defined
for use with the command interpretation service or utility such as the
[`.` (aka "dot") command][posix_dot].

Any licensing terms and conditions applied to _the Suite_, including, but not
limited to, those under which _the Suite_ was originally made available, apply
with respect to these definitions.

## DISTRIBUTION

Distribution of _the Suite_ in whole or in part is permitted according to
terms and conditions of _the license_.

When _the Suite_ is distributed, in whole or in part, with additional software
for which _the Suite_ software provides specific functionality (whether
required or optional), the files from _the Suite_ that provide this
functionality MAY be defined as being in "Executable Form" provided they meet the
criteria as iterated in the [USAGE](#usage) section of this document. As it
pertains to _the license_, where these conditions apply the software from
the larger distribution of which _the Suite_ is part need not be considered "a
work based on" _the Suite_ UNLESS and EXCEPT such a term would apply to an
"Executable Form" binary file licensed under the same terms and conditions.

Any distribution of _the Suite_, in whole or in part, for which it is reasonable
to expect that any party who acquires the distribution would directly use any
part of _the Suite_, SHOULD also include documentation for those parts of
_the Suite_ that appear in the distribution.

Where documentation is included with a distribution of any part of _the Suite_,
if the documentation for those parts of _the Suite_ is available in multiple
formats, only a single format need be included in the distribution, provided the
basic information in any omitted documentation is available in the documentation
that is not omitted. If documentation can be generated from another file in the
distribution, all documentation can be omitted for those specific parts that can
be generated provided a way to generate the documentation is then provided.

In all cases _the license_ and conditions as iterated here and in the main license
MUST be made available for any distribution of _the Suite_.

## MODIFICATIONS

This document does not apply to any modifications, changes or edits to any of
_the Suite_, which are subject solely to the relevant terms and conditions of
_the main license_ (or any additional licenses) and MUST be made available
accordingly; this applies ONLY to _the Suite_ itself.

## UPDATES

Any updates (including, but not limited to, modifications, changes, or edits) to
this document or _the main license_ will apply to _the Suite_ from the moment
those updates are made available with the official _BetterScripts POSIX Suite_.
This does NOT affect any version of _the Suite_ obtained prior to these updates,
for which the appropriate previous version, or as an option any newer version,
of this document and _the main license_ will apply.

A newer version of this document or main license can be applied to a previously
obtained version of _the Suite_ ONLY if doing so does not contradict, in any
way, any licensing terms and conditions as stated in other parts of _the Suite_.
In particular, a license header in any file from _the Suite_ ALWAYS applies as
written.

Where an update to this document or _the main license_ resolves a previous
ambiguity it shall implicitly apply to previous version of this document as
guidance only, but SHOULD be understood to be intent of the original document.

## IN PLAIN ENGLISH

**_The text provided in this section is provided for clarification only and_**
**_does not amend, extend, or edit the license in any way._**

### BASICS

- The _BetterScripts POSIX Suite_ is licensed under the
  [**Mozilla Public License v. 2.0** (_MPLv2_)][mpl_v2], this applies to the
  entire suite EXCEPT if otherwise stated. (This includes any files that do
  not explicitly contain license information.)
- The _MPLv2_ is explicitly compatible with other licenses, specifically it
  is compatible with the
  [**GNU General Public License, version 2** (_GPLv2_)][gpl_v2].
- Individual portions of _the Suite_ MAY make explicit exceptions to specific
  parts of _the Suite_ license.
- If there is any ambiguity between this document and the _MPLv2_ the _MPLv2_
  applies.

### FAQS

In addition to the FAQs here, the _MPLv2_ also has a [FAQ][mpl_v2_faq] which is
very good (and includes details of how to relicense an _MPLv2_ project, with
specific focus on the _GPLv2_).

#### WHY USE THIS LICENSE?

The [**Mozilla Public License v. 2.0** (_MPLv2_)][mpl_v2] is a well known
_copyleft_ license which is highly permissive, yet retains the important sharing
of modifications requirements. Additionally it is compatible with the
[**GNU General Public License, version 2** (_GPLv2_)][gpl_v2] which can be
easily used by those who require such a license.

There may be other more suitable licenses, but it is difficult to find any other
that strikes the right balance, while also remains well know; there are around
7-10 "main" open source licenses, the _MPLv2_ is the one that strikes the
balance closest to that which was desired.

#### WHY CREATE THIS DOCUMENT?

This document is meant to help clarify how whatever license is used for
_the Suite_ is intended to be applied.

This is particularly important because script files are both the source code
_and_ the executable, meaning it is not always clear which license terms apply -
this is especially true for cases like the [`.` (aka "dot") command][posix_dot]
which can behave like the `C/C++` preprocessor directive `#include`, or can be
equivalent to invoking the file as if it were a binary.

For _the Suite_ most usages are intended to be licensed as if a binary was being
invoked and although it is probably possible to interpret the _MPLv2_ in this
way it is not explicit, additionally it was important that this definition was
also used for any additional licenses that might be used for _the Suite_ which
includes those where such an interpretation was not possible.

#### CAN A PROJECT USING LICENSE _X_ USE _THE SUITE_?

Almost certainly!

Of course, it is impossible to give an answer to this that covers every single
combination of licenses, but in the vast majority of cases it is likely to be
possible.

However, do remember that modifications to _the Suite_ always need shared.

#### CAN A CLOSED SOURCE PROJECT USE _THE SUITE_?

Most likely!

As with any licensing concerns, the devil is in the details, and a full answer
would require understanding all the licenses in question, however it is quite
likely to be permitted.

Of course, modifications to _the Suite_ still need to be shared.

#### WHAT IF THE LICENSE CHANGES?

The retroactive altering of the terms and conditions under which _the Suite_
is provided is explicitly prohibited by this document; the terms and conditions
that applied when a version of _the Suite_ was obtained can _always_ be applied
to _that_ version of _the Suite_ and can not be unilaterally changed.

However, if a new version of _the Suite_ is obtained then the terms and
conditions of that new version apply; i.e. the terms and conditions made
available with the official version of _the Suite_, always apply to that version
and any future versions of _the Suite_.

If any newer version of the terms and conditions under which _the Suite_ is
provided resolves any previous ambiguity, then any previous version should use
this resolution as the original intent, but this applied as guidance only and
does **not** alter the previous terms and conditions.

#### DO I HAVE TO DISTRIBUTED EVERYTHING FROM _THE SUITE_?

Not at all, any part of _the Suite_ may be distributed alone, provided it
includes everything required for all functionality of that part of _the Suite_.
Since most of _the Suite_ is designed to be standalone, this means individual
files can be shared if desired.

For any distribution where it's likely an end user will use _the Suite_ directly
(and not through other software) it's highly recommended that relevant
documentation be shared too, but this is not required.

Note that _all_ license details for _the Suite_ must be made available for any
distribution.

#### HOW DO I TELL WHEN A FILE FROM _THE SUITE_ IS LICENSED AS AN EXECUTABLE (AND WHY DOES IT MATTER)?

Good question!

The answer is mostly just use common sense: if a file is not being edited then
it's probably licensed as if it was an executable. However, editing the file
(even indirectly, for example, with `sed`), means it is now a source code file
and licensed accordingly.

As for why it matters, it doesn't in most cases, however it _can_ determine how
_the Suite_ terms and conditions apply to software that uses it: if _the Suite_
was always considered source code then, in order to comply with the license, any
software using it might need to be released as open source with a similar
license. Thankfully, that's not how it is actually licensed.

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- REFERENCES -->
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

[mpl_v2]:             <https://mozilla.org/MPL/2.0/>                                                               "Mozilla Public License, version 2 \[mozilla.org\]"
[mpl_v2_faq]:         <https://mozilla.org/MPL/2.0/FAQ/>                                                           "MPL 2.0 FAQ \[mozilla.org\]"

[gpl_v2]:             <https://www.gnu.org/licenses/gpl-2.0.html>                                                  "GNU General Public License, version 2 \[gnu.org\]"

[posix]:              <https://pubs.opengroup.org/onlinepubs/9699919799.2008edition>                               "POSIX.1-2008 \[pubs.opengroup.org\]"
[posix_shell_utils]:  <https://pubs.opengroup.org/onlinepubs/9699919799.2008edition/idx/xcu.html>                  "POSIX: Shell & Utilities \[pubs.opengroup.org\]"
[posix_shell_lang]:   <https://pubs.opengroup.org/onlinepubs/9699919799/idx/shell.html>                            "POSIX: Shell Command Language \[pubs.opengroup.org\]"
[posix_dot]:          <https://pubs.opengroup.org/onlinepubs/9699919799.2008edition/utilities/V3_chap02.html#dot>  "POSIX: Special Built-In Utilities: dot \[pubs.opengroup.org\]"
